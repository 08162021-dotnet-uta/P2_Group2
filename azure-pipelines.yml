
# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

variables:
  pathToP2: NotFightClub/
  pathToP2Sln: $(pathToP2)/NotFightClub.sln
  p2PackagePath: $(Build.ArtifactStagingDirectory)
  pathTop2Ang:  $(pathToP2)/Angular

trigger:

- main
- testbranch

pool:
  vmImage: windows-latest

stages:
- stage: Build
  jobs:
  - job: buildJob
    steps:
    - task: UseDotNet@2
      inputs:
        version: '5.0.x'
   # - task: DownloadSecureFile@1
    #  name: PubXML
     # displayName: 'Download .pubxml for Deployment'
      #inputs:
       # secureFile: 'NotFightClub-P2.pubxml'

    - task: NodeTool@0
      inputs:
        versionSpec: '10.x'
      displayName: 'Install Node.js'



    - task: Npm@1
      inputs:
        command: 'install'
        workingDir: $(pathTop2Ang)

    - task: VSBuild@1
      inputs:
        solution: '$(pathToP2Sln)'
        msbuildArgs: '/t:Restore;Build'

